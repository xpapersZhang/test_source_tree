# SourceTree 安装使用手册

## 1. 软件介绍

### 1.1 SourceTree 概述
SourceTree 是 Atlassian 公司开发的免费 Git 和 Mercurial 桌面客户端，为开发者提供了直观的图形界面来管理版本控制系统。它简化了复杂的 Git 操作，让版本控制变得更加易于理解和使用。

### 1.2 主要功能
- **可视化分支管理**：直观显示分支结构和合并历史
- **简化的 Git 操作**：通过图形界面执行提交、推送、拉取等操作
- **内置合并工具**：处理代码冲突和合并操作
- **远程仓库管理**：支持 GitHub、GitLab、Bitbucket 等平台
- **文件差异对比**：可视化显示文件变更内容
- **标签和发布管理**：轻松创建和管理项目标签

## 2. 系统要求

### 2.1 Windows 系统要求
- **操作系统**：Windows 10 或更高版本
- **处理器**：64位处理器
- **内存**：至少 4GB RAM（推荐 8GB）
- **存储空间**：至少 500MB 可用磁盘空间
- **网络**：互联网连接（用于下载和同步）

### 2.2 macOS 系统要求
- **操作系统**：macOS 10.15 或更高版本
- **处理器**：Intel 或 Apple Silicon
- **内存**：至少 4GB RAM（推荐 8GB）
- **存储空间**：至少 500MB 可用磁盘空间

### 2.3 前置条件
- Git 必须已安装在系统中
- 有效的 Atlassian 账户（免费注册）
- 基本的版本控制概念了解

## 3. 安装步骤指南

### 3.1 下载 SourceTree
1. 访问官方网站：https://www.sourcetreeapp.com/
2. 点击 "Download for Windows" 或 "Download for Mac"
3. 等待下载完成

### 3.2 Windows 安装步骤
1. **运行安装程序**
   - 双击下载的 `.exe` 文件
   - 如果出现安全警告，点击 "运行"

2. **选择安装选项**
   - 选择安装路径（建议使用默认路径）
   - 勾选 "为所有用户安装"（可选）
   - 点击 "下一步"

3. **配置组件**
   - 保持默认选择的组件
   - 确保勾选 "Git" 和 "Mercurial"（如需要）
   - 点击 "安装"

4. **等待安装完成**
   - 安装过程可能需要几分钟
   - 完成后点击 "完成"

### 3.3 macOS 安装步骤
1. **打开安装包**
   - 双击下载的 `.dmg` 文件
   - 将 SourceTree 拖拽到 Applications 文件夹

2. **首次启动**
   - 从 Applications 文件夹启动 SourceTree
   - 可能需要在系统偏好设置中允许运行

### 3.4 初始配置
1. **创建 Atlassian 账户**
   - 启动 SourceTree 后会提示登录
   - 点击 "创建账户" 或使用现有账户登录

2. **配置 Git**
   - 输入用户名和邮箱地址
   - 这些信息将用于 Git 提交记录

3. **选择 SSH 密钥**
   - 可以生成新的 SSH 密钥或使用现有密钥
   - 建议生成新密钥以确保安全性

## 4. 基本使用方法

### 4.1 克隆仓库
1. 点击 "Clone" 按钮
2. 输入仓库 URL
3. 选择本地存储路径
4. 点击 "Clone" 开始下载

### 4.2 基本操作流程

#### 4.2.1 查看文件状态
- 在 "File Status" 标签页查看未提交的更改
- 绿色表示新增文件，橙色表示修改文件

#### 4.2.2 提交更改
1. 在 "Unstaged files" 中选择要提交的文件
2. 点击 "Stage All" 或拖拽文件到 "Staged files"
3. 在提交信息框中输入描述
4. 点击 "Commit" 按钮

#### 4.2.3 推送到远程仓库
1. 点击工具栏的 "Push" 按钮
2. 选择要推送的分支
3. 点击 "Push" 确认

#### 4.2.4 拉取远程更新
1. 点击工具栏的 "Pull" 按钮
2. 选择要拉取的远程分支
3. 点击 "OK" 开始拉取

### 4.3 分支管理

#### 4.3.1 创建新分支
1. 右键点击要基于的提交或分支
2. 选择 "Branch..."
3. 输入新分支名称
4. 点击 "Create Branch"

#### 4.3.2 切换分支
1. 在左侧分支列表中双击目标分支
2. 或右键点击分支选择 "Checkout"

#### 4.3.3 合并分支
1. 切换到目标分支（通常是 main 或 master）
2. 右键点击要合并的分支
3. 选择 "Merge [分支名] into current branch"
4. 处理可能出现的冲突

## 5. 常见问题解答

### 5.1 登录和账户问题

**Q: 忘记了 Atlassian 账户密码怎么办？**
A: 访问 Atlassian 登录页面，点击 "忘记密码" 链接，按照邮件指示重置密码。

**Q: 无法登录 SourceTree？**
A: 检查网络连接，确保防火墙没有阻止 SourceTree，尝试重启应用程序。

### 5.2 仓库操作问题

**Q: 克隆仓库失败？**
A: 检查仓库 URL 是否正确，确认有访问权限，检查网络连接状态。

**Q: 推送时提示权限被拒绝？**
A: 确认 SSH 密钥已正确配置，或检查用户名密码是否正确。

**Q: 出现合并冲突怎么处理？**
A: SourceTree 会标记冲突文件，手动编辑解决冲突后重新提交。

### 5.3 性能问题

**Q: SourceTree 运行缓慢？**
A: 关闭不必要的仓库标签页，清理本地仓库历史，增加系统内存。

**Q: 大文件处理慢？**
A: 考虑使用 Git LFS 处理大文件，或将大文件移出版本控制。

## 6. 故障排除指南

### 6.1 安装问题

#### 问题：安装过程中出现错误
**解决方案：**
1. 以管理员身份运行安装程序
2. 临时关闭杀毒软件
3. 清理系统临时文件
4. 重新下载安装包

#### 问题：无法启动 SourceTree
**解决方案：**
1. 检查系统是否满足最低要求
2. 重新安装 Microsoft Visual C++ 运行库
3. 检查 Windows 更新
4. 重新安装 SourceTree

### 6.2 Git 相关问题

#### 问题：Git 未找到或版本过低
**解决方案：**
1. 下载并安装最新版本的 Git
2. 在 SourceTree 设置中指定 Git 路径
3. 重启 SourceTree

#### 问题：SSH 连接失败
**解决方案：**
1. 重新生成 SSH 密钥
2. 将公钥添加到 Git 服务提供商
3. 测试 SSH 连接：`ssh -T git@github.com`
4. 检查防火墙设置

### 6.3 界面和操作问题

#### 问题：界面显示异常或卡顿
**解决方案：**
1. 重启 SourceTree
2. 重置界面布局：View → Reset All Layout
3. 清理应用程序缓存
4. 更新显卡驱动程序

#### 问题：无法看到最新提交
**解决方案：**
1. 点击 "Refresh" 按钮
2. 执行 "Fetch" 操作获取远程更新
3. 检查当前分支是否正确

### 6.4 高级故障排除

#### 启用调试日志
1. 打开 SourceTree 设置
2. 转到 "General" 标签页
3. 启用 "Enable logging"
4. 重现问题并查看日志文件

#### 重置 SourceTree 配置
1. 关闭 SourceTree
2. 删除配置文件夹：
   - Windows: `%LOCALAPPDATA%\Atlassian\SourceTree`
   - macOS: `~/Library/Application Support/SourceTree`
3. 重新启动 SourceTree 并重新配置

## 7. 获取帮助

### 7.1 官方资源
- **官方文档**：https://confluence.atlassian.com/sourcetree
- **社区论坛**：https://community.atlassian.com/t5/Sourcetree/ct-p/Sourcetree
- **视频教程**：https://www.atlassian.com/git/tutorials

### 7.2 联系支持
- **技术支持**：通过 Atlassian 支持门户提交工单
- **功能请求**：在社区论坛提出建议
- **Bug 报告**：通过官方渠道报告问题

---

**注意**：本手册基于 SourceTree 最新版本编写，具体界面和功能可能因版本而异。建议定期检查官方更新和文档。